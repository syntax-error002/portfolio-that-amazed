<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Gallery</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background: #181e29; color: #e5e7eb; }
        .glass {
            background: rgba(31, 41, 55, 0.5);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            border-radius: 1.25rem;
            border: 1px solid rgba(99, 102, 241, 0.07);
        }
        .carousel-img {
            transition: opacity 0.4s, transform 0.4s;
        }
        .carousel-arrow {
            background: #23293a;
            opacity: 0.85;
            box-shadow: none;
        }
        .carousel-dot {
            transition: background 0.3s;
        }
        .fade-in {
            animation: fadeIn 0.6s;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center bg-[#181e29]">
    <!-- Hero Section -->
    <div class="w-full relative bg-[#1e2533] py-10 mb-0 flex flex-col items-center justify-center border-b border-[#23293a]">
        <button onclick="window.history.back()" class="fixed top-5 left-5 z-50 p-2 rounded-full bg-[#23293a] text-gray-300 hover:bg-[#23293a]/80 text-lg transition-all duration-200"><i class="fas fa-arrow-left"></i></button>
        <h1 id="hero-title" class="text-3xl md:text-4xl font-bold text-white mb-1 fade-in"></h1>
        <p id="hero-subtitle" class="text-base md:text-lg text-gray-400 font-normal fade-in"></p>
    </div>
    <div class="container mx-auto px-4 py-0 flex flex-col items-center w-full max-w-3xl">
        <!-- Carousel -->
        <div id="carousel-container" class="w-full flex flex-col items-center justify-center -mt-16 z-10 fade-in"></div>
        <!-- Details Card -->
        <div id="project-details" class="glass mt-8 p-6 w-full max-w-xl mx-auto fade-in"></div>
    </div>
    <script src="projectsData.js"></script>
    <script>
        // Get project from URL
        const params = new URLSearchParams(window.location.search);
        const projectKey = params.get('project');
        const project = window.projectsData ? window.projectsData[projectKey] : null;
        // Hero Section
        document.getElementById('hero-title').textContent = project ? project.title : 'Project Not Found';
        document.getElementById('hero-subtitle').textContent = project ? project.subtitle : '';
        // Carousel
        const carouselContainer = document.getElementById('carousel-container');
        let currentImg = 0;
        function renderCarousel() {
            if (!project) return '';
            return `
                <div class="relative w-full max-w-2xl mx-auto flex items-center justify-center">
                    <img src="${project.images[currentImg]}" alt="${project.title} image ${currentImg+1}" class="carousel-img w-full h-60 md:h-80 object-cover rounded-xl border border-[#23293a] bg-[#23293a]" style="opacity:1;">
                    <button id="prev-img" class="carousel-arrow absolute left-2 top-1/2 -translate-y-1/2 p-2 text-gray-300 text-lg rounded-full hover:bg-[#23293a]/90 transition-all z-10" aria-label="Previous image"><i class="fas fa-chevron-left"></i></button>
                    <button id="next-img" class="carousel-arrow absolute right-2 top-1/2 -translate-y-1/2 p-2 text-gray-300 text-lg rounded-full hover:bg-[#23293a]/90 transition-all z-10" aria-label="Next image"><i class="fas fa-chevron-right"></i></button>
                    <div class="absolute bottom-3 left-1/2 -translate-x-1/2 flex space-x-1">
                        ${project.images.map((_, idx) => `<span class="carousel-dot w-2 h-2 rounded-full ${idx === currentImg ? 'bg-indigo-300' : 'bg-gray-500'} inline-block"></span>`).join('')}
                    </div>
                </div>
            `;
        }
        function renderDetails() {
            if (!project) {
                document.getElementById('project-details').innerHTML = `<h2 class="text-2xl text-red-400 font-bold">Project not found.</h2>`;
                carouselContainer.innerHTML = '';
                return;
            }
            carouselContainer.innerHTML = renderCarousel();
            document.getElementById('project-details').innerHTML = `
                <div class="mb-4">
                    <p class="text-base text-gray-200 mb-3 leading-relaxed">${project.description}</p>
                    <div class="mb-3 flex flex-wrap gap-2 items-center">
                        <span class="font-medium text-indigo-200 text-sm flex items-center"><i class="fas fa-tools mr-2"></i>Technologies:</span>
                        ${project.technologies.map(tech => `<span class="flex items-center bg-[#23293a]/60 px-2 py-0.5 rounded text-xs font-normal text-gray-300"><i class="${tech.icon} mr-1 text-sm"></i>${tech.name}</span>`).join('')}
                    </div>
                    <div class="mb-2">
                        <span class="font-medium text-indigo-200 text-sm flex items-center"><i class="fas fa-lightbulb mr-2"></i>Challenges:</span>
                        <span class="text-gray-300 block mt-0.5 text-sm">${project.challenges}</span>
                    </div>
                </div>
                <div class="flex flex-row gap-3 justify-center mt-4">
                    <a href="${project.live}" target="_blank" class="px-4 py-2 bg-indigo-500 text-white rounded-lg font-medium hover:bg-indigo-600 transition-all text-sm flex items-center"><i class="fas fa-external-link-alt mr-2"></i>Live Demo</a>
                    <a href="${project.github}" target="_blank" class="px-4 py-2 bg-gray-700 text-white rounded-lg font-medium hover:bg-gray-600 transition-all text-sm flex items-center"><i class="fab fa-github mr-2"></i>GitHub</a>
                </div>
            `;
            // Carousel navigation
            document.getElementById('prev-img').onclick = () => {
                currentImg = (currentImg - 1 + project.images.length) % project.images.length;
                renderDetails();
            };
            document.getElementById('next-img').onclick = () => {
                currentImg = (currentImg + 1) % project.images.length;
                renderDetails();
            };
        }
        renderDetails();
    </script>
</body>
</html>
